{"version":3,"file":"ngx-bootstrap-collapse.umd.js","sources":["ng:/ngx-bootstrap/collapse/collapse-animations.ts","ng:/ngx-bootstrap/collapse/collapse.directive.ts","ng:/ngx-bootstrap/collapse/collapse.module.ts"],"names":["style","animate","EventEmitter","Directive","ElementRef","Renderer2","AnimationBuilder","Output","HostBinding","Input","NgModule"],"mappings":"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","sourcesContent":["import {\n  animate,\n  style,\n  AnimationMetadata\n} from '@angular/animations';\n\nexport const COLLAPSE_ANIMATION_TIMING = '400ms cubic-bezier(0.4,0.0,0.2,1)';\n\nexport const expandAnimation: AnimationMetadata[] = [\n  style({ height: 0, visibility: 'hidden' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: '*', visibility: 'visible' })\n  )\n];\n\nexport const collapseAnimation: AnimationMetadata[] = [\n  style({ height: '*', visibility: 'visible' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: 0, visibility: 'hidden' })\n  )\n];\n","import {\n  AnimationBuilder,\n  AnimationFactory,\n  AnimationPlayer\n} from '@angular/animations';\n\nimport {\n  AfterViewChecked,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\n\nimport {\n  collapseAnimation,\n  expandAnimation\n} from './collapse-animations';\n\n@Directive({\n  selector: '[collapse]',\n  exportAs: 'bs-collapse',\n  host: {\n    '[class.collapse]': 'true'\n  }\n})\nexport class CollapseDirective implements AfterViewChecked {\n  /** This event fires as soon as content collapses */\n  @Output() collapsed: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when collapsing is started */\n  @Output() collapses: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires as soon as content becomes visible */\n  @Output() expanded: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when expansion is started */\n  @Output() expands: EventEmitter<CollapseDirective> = new EventEmitter();\n  // shown\n  @HostBinding('class.in')\n  @HostBinding('class.show')\n  @HostBinding('attr.aria-expanded')\n  isExpanded = true;\n  collapseNewValue = true;\n  // hidden\n  @HostBinding('attr.aria-hidden') isCollapsed = false;\n  // stale state\n  @HostBinding('class.collapse') isCollapse = true;\n  // animation state\n  @HostBinding('class.collapsing') isCollapsing = false;\n\n  @Input()\n  set display(value: string) {\n    if (!this.isAnimated) {\n      this._renderer.setStyle(this._el.nativeElement, 'display', value);\n\n      return;\n    }\n\n    this._display = value;\n\n    if (value === 'none') {\n      this.hide();\n\n      return;\n    }\n\n    this.show();\n  }\n  /** turn on/off animation */\n  @Input() isAnimated = false;\n  /** A flag indicating visibility of content (shown or hidden) */\n  @Input()\n  set collapse(value: boolean) {\n    this.collapseNewValue = value;\n    if (!this._player || this._isAnimationDone) {\n      this.isExpanded = value;\n      this.toggle();\n    }\n  }\n\n  get collapse(): boolean {\n    return this.isExpanded;\n  }\n\n  private _display = 'block';\n  private _factoryCollapseAnimation: AnimationFactory;\n  private _factoryExpandAnimation: AnimationFactory;\n  private _isAnimationDone: boolean;\n  private _player: AnimationPlayer;\n  private _stylesLoaded = false;\n\n  private _COLLAPSE_ACTION_NAME = 'collapse';\n  private _EXPAND_ACTION_NAME = 'expand';\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    _builder: AnimationBuilder\n  ) {\n    this._factoryCollapseAnimation = _builder.build(collapseAnimation);\n    this._factoryExpandAnimation = _builder.build(expandAnimation);\n  }\n\n  ngAfterViewChecked(): void {\n    this._stylesLoaded = true;\n\n    if (!this._player || !this._isAnimationDone) {\n      return;\n    }\n\n    this._player.reset();\n    this._renderer.setStyle(this._el.nativeElement, 'height', '*');\n  }\n\n  /** allows to manually toggle content visibility */\n  toggle(): void {\n    if (this.isExpanded) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /** allows to manually hide content */\n  hide(): void {\n    this.isCollapsing = true;\n    this.isExpanded = false;\n    this.isCollapsed = true;\n    this.isCollapsing = false;\n\n    this.collapses.emit(this);\n\n    this._isAnimationDone = false;\n\n    this.animationRun(this.isAnimated, this._COLLAPSE_ACTION_NAME)(() => {\n      this._isAnimationDone = true;\n      if (this.collapseNewValue !== this.isCollapsed && this.isAnimated) {\n        this.show();\n\n        return;\n      }\n      this.collapsed.emit(this);\n      this._renderer.setStyle(this._el.nativeElement, 'display', 'none');\n    });\n  }\n  /** allows to manually show collapsed content */\n  show(): void {\n    this._renderer.setStyle(this._el.nativeElement, 'display', this._display);\n\n    this.isCollapsing = true;\n    this.isExpanded = true;\n    this.isCollapsed = false;\n    this.isCollapsing = false;\n\n    this.expands.emit(this);\n\n    this._isAnimationDone = false;\n    this.animationRun(this.isAnimated, this._EXPAND_ACTION_NAME)(() => {\n      this._isAnimationDone = true;\n      if (this.collapseNewValue !== this.isCollapsed && this.isAnimated) {\n        this.hide();\n\n        return;\n      }\n      this.expanded.emit(this);\n      this._renderer.removeStyle(this._el.nativeElement, 'overflow');\n    });\n  }\n\n  animationRun(isAnimated: boolean, action: string) {\n    if (!isAnimated || !this._stylesLoaded) {\n      return (callback: () => void) => callback();\n    }\n\n    this._renderer.setStyle(this._el.nativeElement, 'overflow', 'hidden');\n    this._renderer.addClass(this._el.nativeElement, 'collapse');\n\n    const factoryAnimation = (action === this._EXPAND_ACTION_NAME)\n      ? this._factoryExpandAnimation\n      : this._factoryCollapseAnimation;\n\n    if (this._player) {\n      this._player.destroy();\n    }\n\n    this._player = factoryAnimation.create(this._el.nativeElement);\n    this._player.play();\n\n    return (callback: () => void) => this._player.onDone(callback);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { CollapseDirective } from './collapse.directive';\n\n@NgModule({\n  declarations: [CollapseDirective],\n  exports: [CollapseDirective]\n})\nexport class CollapseModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: CollapseModule, providers: [] };\n  }\n}\n"]}