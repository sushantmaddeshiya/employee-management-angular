{"version":3,"file":"angular-datatables.umd.min.js","sources":["../src/angular-datatables.directive.js","../src/angular-datatables.module.js"],"sourcesContent":["/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Directive, ElementRef, Input } from '@angular/core';\nimport { Subject } from 'rxjs';\nvar DataTableDirective = /** @class */ (function () {\n    function DataTableDirective(el) {\n        this.el = el;\n        /**\n         * The DataTable option you pass to configure your table.\n         */\n        this.dtOptions = {};\n    }\n    DataTableDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.dtTrigger) {\n            this.dtTrigger.subscribe(function () {\n                _this.displayTable();\n            });\n        }\n        else {\n            this.displayTable();\n        }\n    };\n    DataTableDirective.prototype.ngOnDestroy = function () {\n        if (this.dtTrigger) {\n            this.dtTrigger.unsubscribe();\n        }\n        if (this.dt) {\n            this.dt.destroy(true);\n        }\n    };\n    DataTableDirective.prototype.displayTable = function () {\n        var _this = this;\n        this.dtInstance = new Promise(function (resolve, reject) {\n            Promise.resolve(_this.dtOptions).then(function (dtOptions) {\n                // Using setTimeout as a \"hack\" to be \"part\" of NgZone\n                setTimeout(function () {\n                    // Assign DT properties here\n                    var options = {\n                        rowCallback: function (row, data, index) {\n                            if (dtOptions.columns) {\n                                var columns_1 = dtOptions.columns;\n                                // Filter columns with pipe declared\n                                var colsWithPipe = columns_1.filter(function (x) { return x.ngPipeInstance; });\n                                // Iterate\n                                colsWithPipe.forEach(function (el) {\n                                    var pipe = el.ngPipeInstance;\n                                    // find index of column using `data` attr\n                                    var i = columns_1.findIndex(function (e) { return e.data == el.data; });\n                                    // get <td> element which holds data using index\n                                    var rowFromCol = row.childNodes.item(i);\n                                    // Transform data with Pipe\n                                    var rowVal = $(rowFromCol).text();\n                                    var rowValAfter = pipe.transform(rowVal);\n                                    // Apply transformed string to <td>\n                                    $(rowFromCol).text(rowValAfter);\n                                });\n                            }\n                            // run user specified row callback if provided.\n                            if (_this.dtOptions.rowCallback) {\n                                _this.dtOptions.rowCallback(row, data, index);\n                            }\n                        }\n                    };\n                    // merge user's config with ours\n                    options = Object.assign({}, dtOptions, options);\n                    _this.dt = $(_this.el.nativeElement).DataTable(options);\n                    resolve(_this.dt);\n                });\n            });\n        });\n    };\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Object)\n    ], DataTableDirective.prototype, \"dtOptions\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Subject)\n    ], DataTableDirective.prototype, \"dtTrigger\", void 0);\n    DataTableDirective = __decorate([\n        Directive({\n            selector: '[datatable]'\n        }),\n        __metadata(\"design:paramtypes\", [ElementRef])\n    ], DataTableDirective);\n    return DataTableDirective;\n}());\nexport { DataTableDirective };\n//# sourceMappingURL=angular-datatables.directive.js.map","/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataTableDirective } from './angular-datatables.directive';\nvar DataTablesModule = /** @class */ (function () {\n    function DataTablesModule() {\n    }\n    DataTablesModule_1 = DataTablesModule;\n    DataTablesModule.forRoot = function () {\n        return {\n            ngModule: DataTablesModule_1\n        };\n    };\n    var DataTablesModule_1;\n    DataTablesModule = DataTablesModule_1 = __decorate([\n        NgModule({\n            imports: [CommonModule],\n            declarations: [DataTableDirective],\n            exports: [DataTableDirective]\n        })\n    ], DataTablesModule);\n    return DataTablesModule;\n}());\nexport { DataTablesModule };\n//# sourceMappingURL=angular-datatables.module.js.map"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","DataTableDirective","prototype","ngOnInit","_this","this","dtTrigger","subscribe","displayTable","ngOnDestroy","unsubscribe","dt","destroy","dtInstance","Promise","resolve","reject","dtOptions","then","setTimeout","options","rowCallback","row","data","index","columns","columns_1","filter","x","ngPipeInstance","forEach","el","pipe","findIndex","e","rowFromCol","childNodes","item","rowVal","$","text","rowValAfter","transform","assign","nativeElement","DataTable","Input","Subject","Directive","selector","ElementRef","DataTablesModule_1","DataTablesModule","forRoot","ngModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"yXAMA,IAAIA,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOM,OAAOC,yBAAyBT,EAAQC,GAAOC,EACrH,GAAuB,iBAAZQ,SAAoD,mBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASZ,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIU,EAAIb,EAAWO,OAAS,EAAQ,GAALM,EAAQA,KAAST,EAAIJ,EAAWa,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAS,EAAJH,EAAQD,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,GAChJ,OAAW,EAAJH,GAASG,GAAKC,OAAOK,eAAeb,EAAQC,EAAKM,GAAIA,GAE5DO,EAA0C,SAAUC,EAAGC,GACvD,GAAuB,iBAAZN,SAAoD,mBAArBA,QAAQO,SAAyB,OAAOP,QAAQO,SAASF,EAAGC,IAItGE,GAQAA,EAAmBC,UAAUC,SAAW,WACpC,IAAIC,EAAQC,KACRA,KAAKC,UACLD,KAAKC,UAAUC,UAAU,WACrBH,EAAMI,iBAIVH,KAAKG,gBAGbP,EAAmBC,UAAUO,YAAc,WACnCJ,KAAKC,WACLD,KAAKC,UAAUI,cAEfL,KAAKM,IACLN,KAAKM,GAAGC,SAAQ,IAGxBX,EAAmBC,UAAUM,aAAe,WACxC,IAAIJ,EAAQC,KACZA,KAAKQ,WAAa,IAAIC,QAAQ,SAAUC,EAASC,GAC7CF,QAAQC,QAAQX,EAAMa,WAAWC,KAAK,SAAUD,GAE5CE,WAAW,WAEP,IAAIC,EAAU,CACVC,YAAa,SAAUC,EAAKC,EAAMC,GAC9B,GAAIP,EAAUQ,QAAS,CACnB,IAAIC,EAAYT,EAAUQ,QAEPC,EAAUC,OAAO,SAAUC,GAAK,OAAOA,EAAEC,iBAE/CC,QAAQ,SAAUC,GAC3B,IAAIC,EAAOD,EAAGF,eAEVlC,EAAI+B,EAAUO,UAAU,SAAUC,GAAK,OAAOA,EAAEX,MAAQQ,EAAGR,OAE3DY,EAAab,EAAIc,WAAWC,KAAK1C,GAEjC2C,EAASC,EAAEJ,GAAYK,OACvBC,EAAcT,EAAKU,UAAUJ,GAEjCC,EAAEJ,GAAYK,KAAKC,KAIvBrC,EAAMa,UAAUI,aAChBjB,EAAMa,UAAUI,YAAYC,EAAKC,EAAMC,KAKnDJ,EAAU7B,OAAOoD,OAAO,GAAI1B,EAAWG,GACvChB,EAAMO,GAAK4B,EAAEnC,EAAM2B,GAAGa,eAAeC,UAAUzB,GAC/CL,EAAQX,EAAMO,WAK9B9B,EAAW,CACPiE,UACAjD,EAAW,cAAeN,SAC3BU,EAAmBC,UAAW,iBAAa,GAC9CrB,EAAW,CACPiE,UACAjD,EAAW,cAAekD,YAC3B9C,EAAmBC,UAAW,iBAAa,GAC9CD,EAAqBpB,EAAW,CAC5BmE,YAAU,CACNC,SAAU,gBAEdpD,EAAW,oBAAqB,CAACqD,gBAClCjD,IAhFH,SAASA,EAAmB8B,GACxB1B,KAAK0B,GAAKA,EAIV1B,KAAKY,UAAY,GCjBzB,IAkBQkC,EAlBJtE,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOM,OAAOC,yBAAyBT,EAAQC,GAAOC,EACrH,GAAuB,iBAAZQ,SAAoD,mBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASZ,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIU,EAAIb,EAAWO,OAAS,EAAQ,GAALM,EAAQA,KAAST,EAAIJ,EAAWa,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAS,EAAJH,EAAQD,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,GAChJ,OAAW,EAAJH,GAASG,GAAKC,OAAOK,eAAeb,EAAQC,EAAKM,GAAIA,GAK5D8D,IAGAD,EAAqBC,GACJC,QAAU,WACvB,MAAO,CACHC,SAAUH,IAIlBC,EAAmBD,EAAqBtE,EAAW,CAC/C0E,WAAS,CACLC,QAAS,CAACC,gBACVC,aAAc,CAACzD,GACf0D,QAAS,CAAC1D,MAEfmD,IAfH,SAASA"}